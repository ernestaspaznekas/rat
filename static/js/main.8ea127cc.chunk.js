(this["webpackJsonpapp-template"]=this["webpackJsonpapp-template"]||[]).push([[0],{227:function(e,t,a){e.exports=a(546)},325:function(e,t,a){},347:function(e,t,a){},543:function(e,t,a){},544:function(e,t,a){},545:function(e,t,a){},546:function(e,t,a){"use strict";a.r(t);a(228),a(164);var n=a(0),r=a.n(n),o=a(93),l=a.n(o),i=a(94),c=a.n(i),s=a(51),h=a(52),u=a(54),d=a(53),p=a(55),m=a(226),v=Object(m.a)({},{api:{googleMapURL:"urlToBeHere",harba:{harbours:{visible:"urlToBeHere"},domain:"urlToBeHere"},openWeather:{APPID:"idToBeHere",weather:"urlToBeHere"},yahooWeather:{APPID:"keyToBeHere",weather:"urlToBeHere"}},weather:{providers:{yahoo:{name:"name",provider:"provider"},openWeather:{name:"name",provider:"provider"}}},coordinates:{lat:"latitude",lon:"longitude"}},{},{api:{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places",harba:{harbours:{visible:"https://devapi.harba.co/harbors/visible"},domain:"https://devapi.harba.co"},openWeather:{APPID:"8780f13a39a2b8f66fa388b272418483",weather:"https://api.openweathermap.org/data/2.5/weather?"},yahooWeather:{APPID:"keyToBeHere",weather:"urlToBeHere"}},weather:{providers:{yahoo:{name:"Yahoo Weather",provider:"yahooWeather"},openWeather:{name:"Open Weather",provider:"openWeather"}}},coordinates:{lat:55.656,lon:12.299}}),g=(a(325),function(e){var t=e.message;return r.a.createElement("h1",{className:"harba-error"},"Error happend: ",r.a.createElement("b",null,t))}),E=function(e){var t=e.endpoint,a=e.options;return fetch(t,a)},f=a(223),b=a.n(f),w=(a(347),function(e){var t=e.height,a=e.width,n=e.timeout;return r.a.createElement("div",{className:"harba-loader"},r.a.createElement("h4",null,"Loading..."),r.a.createElement(b.a,{type:"Puff",color:"#00BFFF",height:t,width:a,timeout:n}))}),y=a(69),k=a(40),j=function(e){var t=e.lat,a=e.lon,n=e.openWeather,r=n.weather,o=n.APPID;return"".concat(r,"lat=").concat(t,"&lon=").concat(a,"&APPID=").concat(o)},W=function(e){var t=e.lat,a=e.lon,n=e.provider;return E({endpoint:j({lat:t,lon:a,openWeather:v.api[n]}),options:{method:"GET"}})},O=(a(543),function(e){var t=e.main,a=e.sys,n=e.wind;return r.a.createElement("div",{className:"harba-weather-details"},r.a.createElement("div",null,r.a.createElement("h3",null,"Details:")),r.a.createElement("div",null,r.a.createElement("div",null,"Feels like: ",t.feels_like,r.a.createElement("span",null,"\xb0C"))),r.a.createElement("div",null,r.a.createElement("div",null,"Wind: ",n.speed," m/s")),r.a.createElement("div",null,r.a.createElement("div",null,"Humidity: ",t.humidity,"%")),r.a.createElement("div",null,r.a.createElement("div",null,"Pressure: ",t.pressure," hPa")),r.a.createElement("div",null,r.a.createElement("div",null,"Sunrise: ",Date(a.sunrise).split("GMT")[0])),r.a.createElement("div",null,r.a.createElement("div",null,"Sunset:  ",Date(a.sunset).split("GMT")[0])))}),P=(a(544),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,provider:!1,weather:!1},a.setWeather=function(){a.setState({loading:!0}),W({lat:a.props.lat,lon:a.props.lon,provider:v.weather.providers.openWeather.provider}).then((function(e){return e.json()})).then((function(e){return a.setState({weather:e,provider:v.weather.providers.openWeather.name,loading:!1})})).catch((function(e){return a.setState({error:e,loading:!1})}))},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.image,n=e.lat,o=e.lon,l=e.name,i=e.selected,c=e.onMarkerClick,s=this.state,h=s.provider,u=s.weather,d=s.loading;return i===t&&!u&!d&&this.setWeather(),r.a.createElement(k.Marker,{position:{lat:Number(n),lng:Number(o)},onClick:c(t)},i===t&&r.a.createElement(k.InfoWindow,null,r.a.createElement("div",{className:"harba-info"},r.a.createElement("div",null,r.a.createElement("h1",null,l)),r.a.createElement("div",null,a&&r.a.createElement("img",{alt:l,src:"".concat(v.api.harba.domain).concat(a),height:"150px",width:"250px"})),d&&r.a.createElement(w,{height:100,width:100,timeout:0}),u&&r.a.createElement(O,u),r.a.createElement("div",{className:"harba-weather-provider"},h&&r.a.createElement("h3",null,"Provider: ",h)))))}}]),t}(r.a.PureComponent)),M=Object(y.compose)(Object(y.withProps)({containerElement:r.a.createElement("div",{style:{height:"100vh"}}),googleMapURL:v.api.googleMapURL,loadingElement:r.a.createElement("div",{style:{height:"100%"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),k.withScriptjs,k.withGoogleMap)((function(e){var t=e.data,a=e.selected,n=e.onMarkerClick;return r.a.createElement(k.GoogleMap,{defaultZoom:3,defaultCenter:{lat:v.coordinates.lat,lng:v.coordinates.lon}},t.map((function(e){var t=e.id,o=e.image,l=e.lat,i=e.lon,c=e.name;return r.a.createElement(P,{id:t,image:o,key:t,lat:l,lon:i,name:c,selected:a,onMarkerClick:n})})))})),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={selected:null},a.handleMarkerClick=function(e){return function(){a.setState({selected:e})}},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(M,{onMarkerClick:this.handleMarkerClick,data:this.props.data,selected:this.state.selected})}}]),t}(r.a.Component),B=(a(545),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:!1,error:!1,loading:!1},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.setState({loading:!0}),t.next=4,c.a.awrap(E({endpoint:v.api.harba.harbours.visible,options:{method:"GET"}}));case 4:return e=t.sent,t.t0=this,t.next=8,c.a.awrap(e.json());case 8:t.t1=t.sent,t.t2={data:t.t1,loading:!1},t.t0.setState.call(t.t0,t.t2),t.next=16;break;case 13:t.prev=13,t.t3=t.catch(0),this.setState({error:t.t3,loading:!1});case 16:case"end":return t.stop()}}),null,this,[[0,13]])}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.error.message,n=e.loading;return r.a.createElement("div",{className:"harba-main"},n&&r.a.createElement(w,{height:360,width:360,timeout:0}),a&&r.a.createElement(g,{message:a}),t&&r.a.createElement(T,{data:t}))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(B,null),document.getElementById("app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[227,1,2]]]);
//# sourceMappingURL=main.8ea127cc.chunk.js.map